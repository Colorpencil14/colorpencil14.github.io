<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Minecraft烟花刷怪笼NBT生成器 - 在线生成Minecraft刷怪笼NBT数据">
    <meta name="keywords" content="Minecraft, 刷怪笼, NBT, 生成器, 烟花">
    <meta name="author" content="Colorpencil">
    <title>Minecraft烟花刷怪笼生成器</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="container">
        <header class="header">
            <h1>🎆 Minecraft烟花刷怪笼生成器</h1>
            <p class="subtitle">Colorpencil的在线NBT生成工具</p>
        </header>

        <main class="main-content">
            <!-- 使用说明 -->
            <div class="info-banner">
                <div class="info-icon">💡</div>
                <div class="info-content">
                    <strong>使用说明：</strong>
                    此工具用于生成会刷烟花的Minecraft刷怪笼的NBT数据。填写下方表单后点击“生成NBT”，
                    然后将生成的内容复制到命令方块中并执行。也可用于直接编辑NBT文件。仅适用于Java版<strong>1.20.5以前</strong>的版本。
                </div>
            </div>

            <!-- ===== 烟花实体配置 ===== -->
            <div class="form-section">
                <h2>🎆 烟花实体配置（SpawnPotentials）</h2>
                <p class="section-desc">配置刷怪笼可以生成的烟花火箭及其属性。权重越高，该烟花被选中的概率越大。</p>

                <div class="preset-bar">
                    <label for="presetSelect">📦 快速加载预设：</label>
                    <select id="presetSelect">
                        <option value="">— 选择预设 —</option>
                    </select>
                    <button class="btn-add-sm" id="loadPresetBtn">加载</button>
                    <span class="hint preset-hint">加载预设将覆盖当前所有配置</span>
                </div>

                <div id="entitiesList" class="entities-list">
                    <!-- 动态生成的烟花实体卡片 -->
                </div>

                <button type="button" id="addEntityBtn" class="btn btn-add">
                    <span class="btn-icon">+</span> 添加烟花实体
                </button>
            </div>

            <!-- ===== 基本信息与刷怪笼参数 ===== -->
            <div class="form-section">
                <h2>⚙️ 基本信息与刷怪笼参数</h2>
                <p class="section-desc">设置刷怪笼的显示信息和生成行为</p>

                <div class="form-grid">
                    <!-- 基本信息 -->
                    <div class="form-group">
                        <label for="name">
                            物品名称
                            <span class="tooltip" data-tip="刷怪笼物品的显示名称，会显示为「XXX|烟花刷怪笼」">?</span>
                        </label>
                        <input type="text" id="name" placeholder="例： 双色苦力怕" required>
                    </div>

                    <div class="form-group">
                        <label for="no">
                            编号
                            <span class="tooltip" data-tip="物品描述中第二行，用于防止在物品栏中混淆，建议三位分别代表时间/种类/迭代">?</span>
                        </label>
                        <input type="text" id="no" placeholder="例： 641" required>
                    </div>

                    <div class="form-group full-width">
                        <label for="tip">
                            备注
                            <span class="tooltip" data-tip="物品描述中第三行，用于说明观赏距离等">?</span>
                        </label>
                        <input type="text" id="tip" placeholder="例： 放远处" required>
                    </div>

                    <!-- 主要刷怪笼参数 -->
                    <div class="form-group">
                        <label for="minSpawnDelay">
                            最小生成间隔（MinSpawnDelay）
                            <span class="tooltip" data-tip="两次生成之间的最短等待时间（游戏刻）。20刻≈1秒">?</span>
                        </label>
                        <select id="minSpawnDelay">
                            <option value="">不设置（原版默认值200）</option>
                            <option value="20">20刻（1秒）</option>
                            <option value="40">40刻（2秒）</option>
                            <option value="60" selected>60刻（3秒）</option>
                            <option value="100">100刻（5秒）</option>
                            <option value="200">200刻（10秒，原版默认）</option>
                            <option value="custom">自定义...</option>
                        </select>
                        <input type="number" id="minSpawnDelayCustom" class="custom-input hidden"
                            placeholder="输入自定义值（游戏刻）">
                    </div>

                    <div class="form-group">
                        <label for="maxSpawnDelay">
                            最大生成间隔（MaxSpawnDelay）
                            <span class="tooltip" data-tip="两次生成之间的最长等待时间（游戏刻）。实际间隔在最小和最大之间随机">?</span>
                        </label>
                        <select id="maxSpawnDelay">
                            <option value="">不设置（原版默认值800）</option>
                            <option value="60">60刻（3秒）</option>
                            <option value="100">100刻（5秒）</option>
                            <option value="180" selected>180刻（9秒）</option>
                            <option value="400">400刻（20秒）</option>
                            <option value="800">800刻（40秒，原版默认）</option>
                            <option value="custom">自定义...</option>
                        </select>
                        <input type="number" id="maxSpawnDelayCustom" class="custom-input hidden"
                            placeholder="输入自定义值（游戏刻）">
                    </div>

                    <div class="form-group">
                        <label for="spawnCount">
                            每次生成数量（SpawnCount）
                            <span class="tooltip" data-tip="每次激活时尝试生成的实体数量">?</span>
                        </label>
                        <select id="spawnCount">
                            <option value="">不设置（原版默认值4）</option>
                            <option value="1" selected>1个</option>
                            <option value="2">2个</option>
                            <option value="3">3个</option>
                            <option value="4">4个（原版默认）</option>
                            <option value="5">5个</option>
                            <option value="custom">自定义...</option>
                        </select>
                        <input type="number" id="spawnCountCustom" class="custom-input hidden" placeholder="输入自定义值">
                    </div>
                </div>

                <!-- 高级参数折叠区 -->
                <details class="advanced-params">
                    <summary>🔧 高级参数（一般无需修改）</summary>
                    <div class="form-grid advanced-grid">
                        <div class="form-group">
                            <label for="delay">
                                Delay
                            </label>
                            <input type="number" id="delay" value="-1" placeholder="-1">
                        </div>

                        <div class="form-group">
                            <label for="requiredPlayerRange">
                                RequiredPlayerRange
                            </label>
                            <input type="number" id="requiredPlayerRange" value="327" placeholder="327">
                        </div>

                        <div class="form-group">
                            <label for="spawnRange">
                                SpawnRange
                                <span class="tooltip" data-tip="采用切比雪夫距离，越靠近刷怪笼生成在此位置的概率越大。">?</span>
                            </label>
                            <input type="number" id="spawnRange" value="4" placeholder="4">
                        </div>

                        <div class="form-group">
                            <label for="maxNearbyEntities">
                                MaxNearbyEntities
                            </label>
                            <input type="number" id="maxNearbyEntities" value="6" placeholder="6">
                        </div>
                    </div>
                </details>
            </div>

            <!-- ===== 生成 ===== -->
            <div class="action-section">
                <button type="button" id="generateBtn" class="btn btn-primary">
                    <span class="btn-icon">⚡</span> 生成NBT
                </button>
                <p class="action-hint">或按 <kbd>Ctrl</kbd> + <kbd>Enter</kbd></p>
            </div>

            <!-- ===== 输出 ===== -->
            <div class="output-section" id="outputSection" style="display: none;">
                <div class="output-header">
                    <h2>📋 生成结果</h2>
                    <button type="button" id="copyBtn" class="btn btn-copy">
                        <span class="btn-icon">📋</span> 复制
                    </button>
                </div>
                <div class="output-box">
                    <pre id="output"></pre>
                </div>
                <div class="output-footer">
                    <p class="success-message" id="copyMessage" style="display: none;">✓ 已复制到剪贴板！</p>
                    <p class="usage-hint">使用方法： 将以上内容粘贴到命令方块里并执行。粘贴到聊天框可能因为太长而被截断。（128字符限制）</p>
                </div>
            </div>
        </main>

        <footer class="footer">
            <p>Made with ❤️ by Claude, ChatGPT, Gemini and DeepSeek | <a href="https://github.com/Colorpencil14"
                    target="_blank">GitHub</a></p>
        </footer>
    </div>

    <script src="script.js"></script>
</body>

</html>